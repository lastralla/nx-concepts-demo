<h1>Sample Reactive Form</h1>

<div class="card m-3">
  <div class="card-body">
    <form
      [formGroup]="reactiveForm"
      (ngSubmit)="onSubmit()"
      class="col-6"
    >
      <div class="form-row">
        <div class="form-group col-12">
          <label for="firstName">First Name</label>
          <input
            id="firstName"
            type="text"
            formControlName="firstName"
            class="form-control"
            [ngClass]="{
              'is-valid': submitted && f?.['firstName'].errors
            }"
          />
          <div
            *ngIf="submitted && f?.['firstName'].errors"
            class="error"
          >
            <div *ngIf="f?.['firstName'].errors['required']">
              First Name is required
            </div>
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="lastName">Last Name</label>
        <input
          id="lastName"
          type="text"
          formControlName="lastName"
          class="form-control"
          [ngClass]="{
            'is-valid': submitted && f?.['lastName'].errors
          }"
        >
        <div
          *ngIf="submitted && f?.['lastName'].errors"
          class="error"
        >
          <div *ngIf="f?.['lastName'].errors['required']">
            Last Name is required
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="dob">Date of Birth</label>
        <input
          id="dob"
          type="text"
          formControlName="dob"
          class="form-control"
          placeholder="YYYY-MM-DD"
          [ngClass]="{
            'is-valid': submitted && f?.['dob'].errors
          }"
        >
        <div
          *ngIf="submitted && f?.['dob'].errors"
          class="error"
        >
          <div *ngIf="f?.['dob'].errors['required']">
            Date of birth is required
          </div>
          <div *ngIf="f?.['dob'].errors['pattern']">
            Date of birth must be valid
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="email">Email</label>
        <input
          id="email"
          type="text"
          formControlName="email"
          class="form-control"
          [ngClass]="{
              'is-valid': submitted && f?.['email'].errors
            }"
        >
        <div
          *ngIf="submitted && f?.['email'].errors"
          class="error"
        >
          <div *ngIf="f?.['email'].errors['required']">
            Email is required
          </div>
          <div *ngIf="f?.['email'].errors['email']">
            Email must be valid
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="password">Password</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          class="form-control"
          [ngClass]="{
              'is-valid': submitted && f?.['password'].errors
            }"
        >
        <div
          *ngIf="submitted && f?.['password'].errors"
          class="error"
        >
          <div *ngIf="f?.['password'].errors['required']">
            Password is required
          </div>
          <div *ngIf="f?.['password'].errors['minlength']">
            Password must be 6 character minimum
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="confirmPassword">Confirm Password</label>
        <input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          class="form-control"
          [ngClass]="{
              'is-valid': submitted && f['confirmPassword'].errors
            }"
        >
        <div
          *ngIf="submitted && f?.['confirmPassword'].errors"
          class="error"
        >
          <div *ngIf="f?.['confirmPassword'].errors['required']">
            Retype your password
          </div>
          <div *ngIf="f?.['confirmPassword'].errors['mustMatch']">
            Passwords must match
          </div>
        </div>
      </div>

      <div class="form-group col-12">
        <label for="reason">Reason</label>
        <textarea
          id="reason"
          formControlName="reason"
          class="form-control"
          [ngClass]="{
              'is-valid': submitted && f?.['confirmPassword'].errors
            }"
        ></textarea>
      </div>

      <div class="form-row col-12">
        <input
          id="acceptTerms"
          type="checkbox"
          formControlName="acceptTerms"
          class="form-check-input"
          [ngClass]="{
            'is-valid': submitted && f?.['acceptTerms'].errors
          }"
        >
        <label
          for="acceptTerms"
          class="form-check-label"
        >
          Accept Terms & Conditions
        </label>
        <div
          *ngIf="submitted && f?.['acceptTerms'].errors"
          class="error"
        >
          Accept Ts & Cs is required
        </div>
      </div>

      <div class="fotext-center">
        <button class="btn btn-primary mr-1">
          Register
        </button>
        <button
          class="btn btn-secondary"
          type="reset"
          (click)="onReset()"
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
